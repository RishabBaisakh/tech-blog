<nav class="mb-2" aria-label="Primary navigation">
  <div class="d-flex flex-column flex-grow-1 w-100">
    <a href="/" class="text-decoration-none" aria-label="Tech Blog home">
      <h1 class="mb-0 flex-grow-1">Tech Blog</h1>
    </a>
    <p class="text-muted">A tech knowledge hub for<br />everyone to share</p>
  </div>

  <% if (user) { %>
  <div class="container d-flex flex-column">
    <div class="row justify-content-end">
      <div class="dropdown w-auto dropstart">
        <button
          class="nav-profile-dropdown shadow-lg dropdown-toggle rounded-circle text-white"
          type="button"
          id="user-menu-button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
          aria-haspopup="true"
          aria-controls="user-menu"
        >
          <%= user.email.charAt(0).toUpperCase() %>
          <span class="visually-hidden">User menu</span>
        </button>

        <ul
          class="dropdown-menu shadow rounded-4 text-center pt-4"
          style="min-width: 240px"
          id="user-menu"
          role="menu"
          aria-labelledby="user-menu-button"
        >
          <li>
            <% if (profile.image.filename) { %>
            <img
              src="/uploads/<%= profile.image.filename %>"
              alt="Profile image of <%= profile.firstName %> <%= profile.lastName %>"
              class="nav-img-thumbnail img-thumbnail rounded-circle mb-3 shadow-sm"
            />
            <% } else { %>
            <i class="nav-avatar bi bi-person-circle" aria-hidden="true"></i>
            <% } %>
          </li>

          <li>
            <p class="mb-3 text-muted small" role="none">
              <% if (profile) { %> Hi, <%= profile.firstName %>! <% } else { %>
              Welcome! <% } %>
            </p>
          </li>

          <li><hr class="my-2 mx-4" /></li>

          <li role="none">
            <a class="dropdown-item py-2" href="/profile" role="menuitem">
              <i class="bi bi-person me-2" aria-hidden="true"></i> Profile
            </a>
          </li>
          <li role="none">
            <a
              class="dropdown-item py-2 text-danger"
              href="/logout"
              role="menuitem"
            >
              <i class="bi bi-box-arrow-right me-2" aria-hidden="true"></i>
              Logout
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="row mt-auto">
      <ul
        class="d-flex justify-content-end"
        role="menubar"
        aria-label="Secondary navigation"
      >
        <li role="none">
          <a href="/blogs" class="btn btn-light" role="menuitem">All Blogs</a>
        </li>
      </ul>
    </div>
  </div>

  <% } else { %>
  <ul
    class="auth-links d-flex gap-2"
    role="menubar"
    aria-label="Authentication links"
  >
    <% if (typeof path !== 'undefined' && path === "/login") { %>
    <li role="none">
      <a class="btn btn-outline-secondary" href="/signup" role="menuitem"
        >Sign Up</a
      >
    </li>
    <% } else { %>
    <li role="none">
      <a class="btn btn-outline-primary" href="/login" role="menuitem">Login</a>
    </li>
    <% } %>
  </ul>
  <% } %>
</nav>
