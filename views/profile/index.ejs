<%- include("../partials/head.ejs") %>
<body>
  <%- include('../partials/nav.ejs') %>

  <main class="container py-5" role="main" aria-labelledby="profile-name">
    <div class="card mx-auto shadow" style="max-width: 500px">
      <div class="card-body text-center d-flex flex-column align-items-center">
        <img
          src="/uploads/<%= profile.image.filename %>"
          alt="Profile image of <%= profile.firstName %> <%= profile.lastName %>"
          class="img-thumbnail rounded-circle mb-3 shadow-sm"
          style="width: 150px; height: 150px; object-fit: cover"
        />

        <h1 id="profile-name" class="mb-1 fs-4">
          <%= profile.firstName %> <%= profile.lastName %>
        </h1>
        <a
          href="/profile/edit"
          class="btn btn-outline-primary btn-sm mb-3"
          aria-label="Edit Profile"
        >
          Edit Profile
        </a>

        <% if (profile.about && profile.about.trim()) { %>
        <section aria-labelledby="about-me-label" class="w-100 px-3 mt-4">
          <div class="bg-light rounded p-3 shadow-sm">
            <h2 id="about-me-label" class="visually-hidden">About Me</h2>
            <blockquote class="blockquote text-muted mb-0">
              <p class="mb-0"><%= profile.about.replace(/^\s+/, '') %></p>
            </blockquote>
          </div>
        </section>
        <% } else { %>
        <p class="text-muted fst-italic mt-3" role="note">
          This user hasn't written anything about themselves yet.
        </p>
        <% } %>
      </div>
    </div>
  </main>

  <%- include('../partials/footer.ejs') %>
</body>
