<nav class="mb-2">
  <div class="d-flex flex-column flex-grow-1 w-100">
    <a href="/" class="text-decoration-none">
      <h1 class="mb-0 flex-grow-1">Tech Blog</h1>
    </a>
    <p class="text-muted">A tech knowledge hub for<br />everyone to share</p>
  </div>
  <% if (user) { %>
  <div class="container d-flex flex-column">
    <div class="row justify-content-end">
      <div class="dropdown w-auto dropstart">
        <button
          class="nav-profile-dropdown shadow-lg dropdown-toggle rounded-circle text-white"
          type="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <%= user.email.charAt(0).toUpperCase() %>
        </button>

        <div
          class="dropdown-menu shadow rounded-4 p-3 text-center"
          style="min-width: 240px"
        >
          <div class="mb-2">
            <div
              class="rounded-circle bg-primary text-white d-inline-flex align-items-center justify-content-center"
              style="
                width: 64px;
                height: 64px;
                font-size: 1.5rem;
                font-weight: 500;
              "
            >
              <%= user.email.charAt(0).toUpperCase() %>
            </div>
          </div>
          <p class="mb-0 fw-semibold"><%= user.email %></p>
          <p class="mb-2 text-muted small">
            <% if (profile) { %> Hi, <%= profile.firstName %>! <% } else { %>
            Welcome! <% } %>
          </p>

          <hr class="my-2" />

          <a class="dropdown-item py-2" href="/profile">
            <i class="bi bi-person me-2"></i> Profile
          </a>
          <a class="dropdown-item py-2 text-danger" href="/logout">
            <i class="bi bi-box-arrow-right me-2"></i> Logout
          </a>
        </div>
      </div>
    </div>
    <div class="row mt-auto">
      <ul class="d-flex justify-content-end">
        <li><a href="/blogs">All Blogs</a></li>
      </ul>
    </div>
  </div>

  <% } else { %>
  <ul class="auth-links">
    <% if (typeof path !== 'undefined' && path === "/login") {%>
    <li><a class="btn btn-outline-secondary" href="/signup">Sign Up</a></li>
    <% } else { %>
    <li><a class="btn btn-outline-primary" href="/login">Login</a></li>
    <% } %>
  </ul>
  <% } %>
</nav>
